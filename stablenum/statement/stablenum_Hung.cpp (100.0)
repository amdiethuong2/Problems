#include<cstdio>
#include<cstring>
#include<cstdlib>
#define FOR(i,a,b) for(int i=(a);i<=(b);++i)
typedef long long ll;
ll f[19][10][2];
ll cal(ll lim)
{
    memset(f,0ll,sizeof f);
    int a[19],n=0;ll ans=0ll;
    while(lim) a[++n]=lim%10,lim/=10;
    FOR(i,0,9) f[1][i][i<=a[1]]=1;
    FOR(i,1,n-1) FOR(j,0,9) FOR(k,0,9) FOR(l,0,1)
        if(abs(j-k)<=1) f[i+1][k][k<a[i+1] || (k==a[i+1] && l)]+=f[i][j][l];
    FOR(i,1,n-1) FOR(j,1,9) FOR(k,0,1) ans+=f[i][j][k];
    FOR(i,1,9) ans+=f[n][i][1];
    return ans;
}
int main()
{
    ll A,B,l,r,p,c,cnt;int t;
    scanf("%lld %lld %d",&A,&B,&t);
    c=cal(A);cnt=cal(B-1)-c;
    if(t==1)
    {
        printf("%lld",cnt);
        return 0;
    }
    p=(cnt+1)>>1;
    l=A+1;r=B-1;
    while(l<r)
    {
        ll mid=(l+r)>>1;
        if(cal(mid)-c>=p) r=mid;
        else l=mid+1;
    }
    printf("%lld",l);
    if(cnt&1) return 0;
    ++p;
    l=A+1;r=B-1;
    while(l<r)
    {
        ll mid=(l+r)>>1;
        if(cal(mid)-c>=p) r=mid;
        else l=mid+1;
    }
    printf(" %lld",l);
}
